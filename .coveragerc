[run]
# Measure branch coverage (detects if an 'if' was true AND false)
branch = True
source = app

[report]
# Fail if coverage is under 100% (optional, but good for CI)
# fail_under = 100

# show missing lines in the report
show_missing = True

# Regexes for lines to exclude from consideration
exclude_lines =
    # Have to re-enable the standard pragma
    pragma: no cover

    # Don't complain about missing debug-only code:
    def __repr__
    if self\.debug

    # Don't complain if tests don't hit defensive assertion code:
    raise AssertionError
    raise NotImplementedError

    # Don't complain if non-runnable code isn't run:
    if 0:
    if __name__ == .__main__.:

    # Don't complain about abstract methods, they aren't run:
    @(abc\.)?abstractmethod

omit =
    # Omit the main entry point (server startup logic is integration tested)
    app/main.py
    
    # Omit database connection logic (hard to unit test without real Mongo)
    app/db/mongo.py
    
    # Omit logging configuration
    app/core/logging.py
    
    # Omit type definition files or empty inits if any
    */__init__.py